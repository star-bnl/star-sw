.\" Automatically generated by Pod::Man version 1.02
.\" Fri Mar  2 17:41:41 2001
.\"
.\" Standard preamble:
.\" ======================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Ip \" List item
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R

.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used
.\" to do unbreakable dashes and therefore won't be available.  \*(C` and
.\" \*(C' expand to `' in nroff, nothing in troff, for use with C<>
.tr \(*W-|\(bv\*(Tr
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` `
.    ds C' '
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr
.\" for titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and
.\" index entries marked with X<> in POD.  Of course, you'll have to process
.\" the output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
.    .
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it
.\" makes way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.bd B 3
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ======================================================================
.\"
.IX Title "PERLTIDY 1"
.TH PERLTIDY 1 "perl v5.6.0" "2001-03-02" "User Contributed Perl Documentation"
.UC
.SH "NAME"
perltidy \- a Perl script indenter and reformatter
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
.Vb 5
\&    perltidy [ options ] file1 file2 file3 ...
\&            (output goes to file1.tdy, file2.tdy, file3.tdy, ...)
\&    perltidy [ options ] file1 -o outfile
\&    perltidy [ options ] file1 -st >outfile
\&    perltidy [ options ] <infile >outfile
.Ve
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
Perltidy reads a Perl script and writes an indented, reformatted script.
The default formatting closely follows the recommendations in \fIperlstyle\fR\|(1).
.PP
The formatting can be controlled with input parameters as described in
the the section on "OPTIONS" section.  
.PP
The the section on "EXAMPLES" section may contain enough information to get you started.
New users may benefit from the short tutorial which comes with the
distribution.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
These examples illustrate some of the most common parameters.
.PP
.Vb 1
\&  perltidy somefile.pl
.Ve
This will produce a file \fIsomefile.pl.tdy\fR containing the script reformatted
using the default options.
.PP
.Vb 1
\&  perltidy *.pl
.Ve
Execute perltidy on all .pl files in the current directory with the
default options.  The output will be in files with an appended \fI.tdy\fR
extension.  For any file with an error, there will be files with extensions
\&\fI.ERR\fR and \fI.LOG\fR.
.PP
.Vb 1
\&  perltidy -i=3 somefile.pl
.Ve
Execute perltidy on file \fIsomefile.pl\fR, with 3 columns for each
level of indentation (instead of the default 4 columns).  There will not
be any tabs in the reformatted script, except for any which already
exist in comments, pod documents, quotes, and here documents.
Output will be \fIsomefile.pl.tdy\fR. 
.PP
.Vb 1
\&  perltidy -i=3 -t somefile.pl
.Ve
Same as the previous example, except that each set of 3 columns of
indentation will be represented by one leading tab character.
.PP
.Vb 1
\&  perltidy -ce -l=72 somefile.pl
.Ve
Execute perltidy on file \fIsomefile.pl\fR with all defaults except use
\&\*(L"cuddled elses\*(R" and a maximum line length of 72 columns (instead of the
default 80 columns).  
.PP
.Vb 1
\&  perltidy -io somefile.pl
.Ve
Execute perltidy on file \fIsomefile.pl\fR but restrict changes to \*(L"indentation
only\*(R", which means that existing line breaks and whitespace will be unchanged.
.PP
.Vb 1
\&  perltidy -g somefile.pl
.Ve
Execute perltidy on file \fIsomefile.pl\fR and save a log file \fIsomefile.pl.LOG\fR
which shows the nesting of braces, parentheses, and square brackets at
the start of every line.
.SH "OPTIONS"
.IX Header "OPTIONS"
The entire command line is scanned for options, and they are processed
them before any files are processed.  As a result, it does not matter
whether flags are before or after any filenames.  However, the relative
order of parameters is important, with later parameters overriding the
values of earlier parameters.
.PP
For each parameter, there is a long name and a short name.  The short
names are convenient for keyboard input, while the long names are
self-documenting and therefore useful in scripts.  It is customary to
use two leading dashes for long names, but one may be used.
.PP
Most parameters which serve as on/off flags can be negated with a
leading \*(L"n\*(R" (for the short name) or a leading \*(L"no\*(R" (for the long
name).  For example, the flag to use tabs is \fB\-t\fR or \fB\*(--tabs\fR.  The
flag to use no tabs (the default) is \fB\-nt\fR or \fB\*(--notabs\fR.
.PP
Options may not be bundled together.
.Sh "I/O control"
.IX Subsection "I/O control"
.Ip "\fB\-h\fR,    \fB\*(--help\fR" 4
.IX Item "-h,    help"
Show summary of usage and exit.
.Ip "\fB\-o\fR=filename,    \fB\*(--outfile\fR=filename" 4
.IX Item "-o=filename,    outfile=filename"
Name of the output file (only if a single input file is being
processed).  If no output file is specified, and output is not
redirected to the standard output, the output will go to \fIfilename.tdy\fR.
.Ip "\fB\-st\fR,    \fB\*(--standard-output\fR" 4
.IX Item "-st,    standard-output"
Sends the output script to the standard output.  For example,
.Sp
.Vb 1
\&  perltidy somefile.pl -st >somefile.new.pl
.Ve
This option may only be used if there is a single input file.
.Ip "\fB\-q\fR,    \fB\*(--quiet\fR" 4
.IX Item "-q,    quiet"
Deactivate error messages and syntax checking (for running under
an editor). 
.Sp
For example, if you use a vi-style editor, such as vim, you may execute
perltidy as a filter from within the editor using something like
.Sp
.Vb 1
\& :n1,n2!perltidy -q
.Ve
where \f(CW\*(C`n1,n2\*(C'\fR represents the selected text.  Without the \fB\-q\fR flag,
any error messages will mess up your screen.  Besides, it is common to
run perltidy on incomplete blocks from an editor, and you don't want to
see any complaints about that.  (Or maybe you do; in that case, be
prepared to use your \*(L"undo\*(R" key).
.Ip "\fB\-syn\fR,   \fB\*(--check-syntax\fR" 4
.IX Item "-syn,   check-syntax"
This causes perltidy to run \f(CW\*(C`perl \-c\*(C'\fR to check syntax of input and output.
This is the default and highly recommended.  The results are written to the
\&\fI.LOG\fR file, which will be saved if an error is detected in the output script.
The output script is not checked if the input script has a syntax error.  To
skip syntax checking, use \fB\-nsyn\fR or \fB\*(--nocheck-syntax\fR.  Syntax checking is
also deactivated by the \fB\*(--quiet\fR flag, discussed above.
.Ip "\fB\-log\fR,    \fB\*(--logfile\fR" 4
.IX Item "-log,    logfile"
Save the \fI.LOG\fR file, which has many useful diagnostics.  Perltidy always
creates a \fI.LOG\fR file, but by default it is deleted if there are no
errors.  Setting the \fB\-log\fR flag forces the log file to be saved.
.Ip "\fB\-g=n\fR, \fB\*(--logfile-gap=n\fR" 4
.IX Item "-g=n, logfile-gap=n"
Set maximum interval between input code lines in the logfile.  This purpose of
this flag is to assist in debugging nesting errors.  The value of \f(CW\*(C`n\*(C'\fR is
optional.  If you set the flag \fB\-g\fR without the value of \f(CW\*(C`n\*(C'\fR, it will be
taken to be 1, meaning that every line will be written to the log file.  This
can be helpful if you are looking for a brace, paren, or bracket nesting error. 
.Sp
Setting \fB\-g\fR also causes the logfile to be saved, so it is not necessary to
also include \fB\-log\fR. 
.Sp
If no \fB\-g\fR flag is given, a value of 50 will be used, meaning that at least
every 50th line will be recorded in the logfile.  This helps prevent
excessively long log files.  
.Sp
Setting a negative value of \f(CW\*(C`n\*(C'\fR is the same as not setting \fB\-g\fR at all.
.Ip "\fB\-npro\fR  \fB\*(--noprofile\fR" 4
.IX Item "-npro  noprofile"
Ignore any \fI.perltidyrc\fR command file.  Normally, perltidy looks first in
your current directory for a \fI.perltidyrc\fR file of parameters.  (The format
is described below).  If it finds one, it applies those options to the
initial default values, and then it applies any that have been defined
on the command line.  If no \fI.perltidyrc\fR file is found, it looks for one
in your home directory.
.Sp
If you set the \fB\-npro\fR flag, perltidy will not look for this file.
.Ip "\fB\-opt\fR,   \fB\*(--show-options\fR" 4
.IX Item "-opt,   show-options"
Write a list of all options used to the \fI.LOG\fR file.  This is useful for
debugging command files.  In the list, the status of on/off
switches is indicated by a 0 for off and a 1 for on.
.Ip "\fB\-f\fR,   \fB\*(--force-read-binary\fR" 4
.IX Item "-f,   force-read-binary"
Force perltidy to process binary files.  Normally, perltidy skips files
identified by the system as non-text.  This flag causes all existing
files to be processed.
.Sh "Basic Options"
.IX Subsection "Basic Options"
.Ip "\fB\-i=n\fR,  \fB\*(--indent-columns=n\fR" 4
.IX Item "-i=n,  indent-columns=n"
Use n columns per indentation level (default n=4).
.Sp
See also \fB\*(--tabs\fR.
.Ip "\fB\-t\fR,   \fB\*(--tabs\fR" 4
.IX Item "-t,   tabs"
This flag defines the characters used to indicate the indentation level
of each line of code to be tabs.  Perltidy allows two possible ways to
represent the indentation at the beginning of each line of code.  You
may either use one tab character per level of indentation (signified
with the \-t flag), or you may use n real space characters per level,
(where n is defined by the \-i flag).  The choice depends upon which is
most convenient for your editor or viewer.  The default is to use \s-1ASCII\s0
space characters because they should be properly displayed on all
editors or viewers, even though they are not always the most convenient
for editing. Of course, you can always rerun perltidy to change the
indentation characters.
.Sp
If you choose tabs, you will want to give the appropriate setting to
your editor to display tabs as 4 blanks (or whatever value has been set
with the \fB\-i\fR command).  
.Sp
Except for these possible tab indentation characters, Perltidy does not
introduce any tab characters into your file, and it removes any tabs
from the code (unless requested not to do so with \fB\-fws\fR).  If you have
any tabs in your comments, quotes, or here-documents, they will remain.
.Ip "\fB\-nt\fR,   \fB\*(--notabs\fR" 4
.IX Item "-nt,   notabs"
Use space (blank) characters instead of tabs for leading indentation.
This is the default, following the recommendation in \fIperlstyle\fR\|(1),
although many programmers will prefer tabs.
.Ip "\fB\-io\fR,   \fB\*(--indent-only\fR" 4
.IX Item "-io,   indent-only"
This flag is used to deactivate all formatting and line break changes.
When it is in effect, the only change to the script will be indentation.
And any flags controlling whitespace and newlines will be ignored.  You
might want to use this if you are perfectly happy with your
whitespace and line breaks, and merely want perltidy to handle the
indentation.
.Sp
Setting this flag is equivalent to setting \fB\*(--freeze-newlines\fR and
\&\fB\*(--freeze-whitespace\fR.
.Sh "Whitespace Control"
.IX Subsection "Whitespace Control"
.Ip "\fB\-fws\fR,  \fB\*(--freeze-whitespace\fR" 4
.IX Item "-fws,  freeze-whitespace"
This flag causes your original whitespace to remain unchanged, and
causes the rest of the whitespace commands in this section to be
ignored.
.Ip "Tightness of curly braces, parentheses, and square brackets." 4
.IX Item "Tightness of curly braces, parentheses, and square brackets."
Here the term \*(L"tightness\*(R" will mean the closeness with which
pairs of enclosing tokens, such as parentheses, contain the quantities
within.  A numerical value of 0, 1, or 2 defines the tightness, with
0 being least tight and 2 being most tight.
.Sp
The \fB\-pt=n\fR or \fB\*(--paren-tightness\fR parameter controls the space within
parens.  The example below shows the effect of the three possible
values, 0, 1, and 2:
.Sp
.Vb 3
\& if ( ( my $len_tab = length( $tabstr ) ) > 0 ) {  # -pt=0
\& if ( ( my $len_tab = length($tabstr) ) > 0 ) {    # -pt=1 (default)
\& if ((my $len_tab = length($tabstr)) > 0) {        # -pt=2
.Ve
When n is 0, there is always a space to the right of a '(' and to the left
of a ')'.  For n=2 there is never a space.  For n=1, the default, there
is a space unless the quantity within the parens is a single token, such
as an identifier or quoted string.  
.Sp
Likewise, the parameter \fB\-bt=n\fR or \fB\*(--brace-tightness=n\fR controls the
space within curly braces, as illustrated in the example below. 
.Sp
.Vb 3
\& if ( $Opts{ help } ) { usage(); exit 1; }    # -bt=0
\& if ( $Opts{help} ) { usage(); exit 1; }      # -bt=1 (default)
\& if ( $Opts{help} ) {usage(); exit 1;}        # -bt=2
.Ve
And finally, the parameter \fB\-sbt=n\fR or \fB\*(--square-bracket-tightness\fR
controls the space within square brackets, as illustrated below.
.Sp
.Vb 3
\& $width = $col[ $j + $k ] - $col[ $j ];  # -sbt=0
\& $width = $col[ $j + $k ] - $col[$j];    # -sbt=1 (default)
\& $width = $col[$j + $k] - $col[$j];      # -sbt=2
.Ve
.Ip "\fB\-ci=n\fR, \fB\*(--continuation-indentation=n\fR" 4
.IX Item "-ci=n, continuation-indentation=n"
Continuation indentation is extra indentation spaces applied when
a long line is broken.  The default is n=2, illustrated here:
.Sp
.Vb 2
\& my $level =   # -ci=2      
\&   ( $max_index_to_go >= 0 ) ? $levels_to_go[0] : $last_output_level;
.Ve
The same example, with n=0, is a little harder to read:
.Sp
.Vb 2
\& my $level =   # -ci=0    
\& ( $max_index_to_go >= 0 ) ? $levels_to_go[0] : $last_output_level;
.Ve
.Ip "\fB\-ibc\fR,  \fB\*(--indent-block-comments\fR" 4
.IX Item "-ibc,  indent-block-comments"
Block comments, meaning full-line comments, normally look best when they
are indented to the same level as the code which follows them.  This is
the default behavior, but you may use \fB\-nibc\fR to keep block comments
left-justified.  Here is an example:
.Sp
.Vb 2
\&             # this comment is indented      (-ibc, default)
\&             if ($task) { yyy(); }
.Ve
.Ip "\fB\-nibc\fR,  \fB\*(--noindent-block-comments\fR" 4
.IX Item "-nibc,  noindent-block-comments"
Do not indent block comments.  Here is an example:
.Sp
.Vb 2
\& # this comment is not indented              (-nibc)
\&             if ($task) { yyy(); }
.Ve
.Ip "\fB\-oll\fR, \fB\*(--outdent-long-lines\fR" 4
.IX Item "-oll, outdent-long-lines"
When \fB\-oll\fR is set, lines which cannot be broken into pieces less than
the \fBmaximum-line-length\fR will have their indentation removed to make
them more readable.  This is the default.  This can mainly occur for
long quoted strings and long comments.  To prevent such out-denting, use
\&\fB\-noll\fR or \fB\*(--nooutdent-long-lines\fR.
.Ip "\fB\-msc=n\fR,  \fBminimum-space-to-comment=n\fR" 4
.IX Item "-msc=n,  minimum-space-to-comment=n"
Side comments look best when lined up several spaces to the right of
code.  Perltidy will try to keep comments at least n spaces to the
right.  The default is n=4 spaces.
.Ip "\fB\-sts\fR,   \fB\*(--space-terminal-semicolon\fR" 4
.IX Item "-sts,   space-terminal-semicolon"
Some programmers prefer a space before all terminal semicolons.  The
default is for no such space, and is indicated with \fB\-nsts\fR or
\&\fB\*(--nospace-terminal-semicolon\fR.
.Sp
.Vb 2
\&        $i = 1 ;     #  -sts
\&        $i = 1;      #  -nsts   (default)
.Ve
.Ip "\fB\-sfs\fR,   \fB\*(--space-for-semicolon\fR" 4
.IX Item "-sfs,   space-for-semicolon"
Semicolons within \fBfor\fR loops may sometimes be hard to see,
particularly when commas are also present.  This option places spaces on
both sides of these special semicolons, and is the default.  Use
\&\fB\-nsfs\fR or \fB\*(--nospace-for-semicolon\fR to deactivate it.
.Sp
.Vb 2
\& for ( @a = @$ap, $u = shift @a ; @a ; $u = $v ) {  # -sfs (default)
\& for ( @a = @$ap, $u = shift @a; @a; $u = $v ) {    # -nsfs
.Ve
.Ip "\fB\-asc\fR,  \fB\*(--add-semicolons\fR" 4
.IX Item "-asc,  add-semicolons"
Setting \fB\-asc\fR allows perltidy to add any missing optional semicolon at the end 
of a line which is followed by a closing curly brace on the next line.  This
is the default, and may be deactivated with \fB\-nasc\fR or \fB\*(--noadd-semicolons\fR.
.Ip "\fB\-dsc\fR,  \fB\*(--delete-semicolons\fR" 4
.IX Item "-dsc,  delete-semicolons"
Setting \fB\-dsc\fR allows perltidy to delete extra semicolons which are
simply empty statements.  This is the default, and may be deactivated
with \fB\-ndsc\fR or \fB\*(--nodelete-semicolons\fR.  (Such semicolons are not
deleted, however, if they would promote a side comment to a block
comment).
.Ip "\fB\-aws\fR,  \fB\*(--add-whitespace\fR" 4
.IX Item "-aws,  add-whitespace"
Setting this option allows perltidy to add certain whitespace improve
code readability.  This is the default. If you do not want any
whitespace added, but are willing to have some whitespace deleted, use
\&\fB\-naws\fR.  (Use \fB\-fws\fR to leave whitespace completely unchanged).
.Ip "\fB\-dws\fR,  \fB\*(--delete-old-whitespace\fR" 4
.IX Item "-dws,  delete-old-whitespace"
Setting this option allows perltidy to remove some old whitespace
between characters, if necessary.  This is the default.  If you
do not want any old whitespace removed, use \fB\-ndws\fR or
\&\fB\*(--nodelete-old-whitespace\fR.
.Sh "Line Break Control"
.IX Subsection "Line Break Control"
.Ip "\fB\-fnl\fR,  \fB\*(--freeze-newlines\fR" 4
.IX Item "-fnl,  freeze-newlines"
If you do not want any changes to the line breaks in your script, set
\&\fB\-fnl\fR, and they will remain fixed, and the rest of the commands in
this section will be ignored.  
.Ip "\fB\-l=n\fR, \fB\*(--maximum-line-length=n\fR" 4
.IX Item "-l=n, maximum-line-length=n"
The default maximum line length is n=80 characters.  Perltidy will try
to find line break points to keep lines below this length. However, long
quotes and side comments may cause lines to exceed this length.
.Ip "\fB\-bbc\fR,  \fB\*(--blanks-before-comments\fR" 4
.IX Item "-bbc,  blanks-before-comments"
A blank line will be introduced before a full-line comment.  This is the
default.  Use \fB\-nbbc\fR or  \fB\*(--noblanks-before-comments\fR to prevent
such blank lines from being introduced.
.Ip "\fB\-bbs\fR,  \fB\*(--blanks-before-subs\fR" 4
.IX Item "-bbs,  blanks-before-subs"
A blank line will be introduced before a sub definition.  This is the
default.  This is negated with \fB\-nbbs\fR or  \fB\*(--noblanks-before-subs\fR.
.Ip "\fB\-bbb\fR,  \fB\*(--blanks-before-blocks\fR" 4
.IX Item "-bbb,  blanks-before-blocks"
A blank line may be introduced before blocks of coding delimited by
\&\fBfor\fR, \fBforeach\fR, \fBwhile\fR, \fBuntil\fR, and \fBif\fR.  This is the default.
This is negated with \fB\-nbbb\fR or  \fB\*(--noblanks-before-blocks\fR.
.Ip "\fB\-mbl=n\fR \fB\*(--maximum-consecutive-blank-lines=n\fR" 4
.IX Item "-mbl=n maximum-consecutive-blank-lines=n"
This parameter specifies the maximum number of consecutive blank lines
in the output script.  The default is n=1.  If the input file has more
than n consecutive blank lines, the number will be reduced to n.
.Ip "\fB\-sob\fR,  \fB\*(--swallow-optional-blank-lines\fR" 4
.IX Item "-sob,  swallow-optional-blank-lines"
Blank lines governed by the above flags, \fB\-bbb\fR, \fB\-bbs\fR, and \fB\-bbc\fR,
will be deleted.  (But essential blank lines above pod documents will be
retained).  This is \s-1NOT\s0 the default.
.Ip "\fB\-nsob\fR,  \fB\*(--noswallow-optional-blank-lines\fR" 4
.IX Item "-nsob,  noswallow-optional-blank-lines"
Retain blank lines, including those which do not corresponding to flags
\&\fB\-bbb\fR, \fB\-bbs\fR, and \fB\-bbc\fR.  This is the default.  The number of
blanks retained is subject to the limit imposed by
\&\fB\*(--maximum-consecutive-blank-lines\fR, however.
.Ip "\fB\-ce\fR,   \fB\*(--cuddled-else\fR" 4
.IX Item "-ce,   cuddled-else"
Enable the \*(L"cuddled else\*(R" style, in which \f(CW\*(C`else\*(C'\fR and \f(CW\*(C`elsif\*(C'\fR are
follow immediately after the curly brace closing the previous block.
The default is not to use cuddled elses, and is indicated with the flag
\&\fB\-nce\fR or \fB\*(--nocuddled-else\fR.  Here is a comparison of the
alternatives:
.Sp
.Vb 5
\&  if ($task) {
\&      yyy();
\&  } else {    # -ce
\&      zzz();
\&  }
.Ve
.Vb 6
\&  if ($task) {
\&        yyy();
\&  }
\&  else {    # -nce  (default)
\&        zzz();
\&  }
.Ve
.Ip "\fB\-bl\fR,    \fB\*(--opening-brace-on-new-line\fR" 4
.IX Item "-bl,    opening-brace-on-new-line"
Use the flag \fB\-bl\fR to place the opening brace on a new line:
.Sp
.Vb 2
\&  if ( $input_file eq '-' ) 
\&  {                             # -bl
.Ve
This flag applies to all structural blocks, including sub's.
.Sp
The default style, \fB\-nbl\fR, places an opening brace on the same line as
the keyword introducing it.  For example,
.Sp
.Vb 1
\&  if ( $input_file eq '-' ) {   # -nbl (default)
.Ve
.Ip "\fB\-dnl\fR,  \fB\*(--delete-old-newlines\fR" 4
.IX Item "-dnl,  delete-old-newlines"
By default, perltidy first deletes all old line break locations, and then it
looks for optimal break points to match the desired line length.  Use \fB\-ndnl\fR
or  \fB\*(--nodelete-old-newlines\fR to force perltidy to retain all old line break
points.  
.Ip "\fB\-anl\fR,  \fB\*(--add-newlines\fR" 4
.IX Item "-anl,  add-newlines"
By default, perltidy will add line breaks when necessary to create
continuations of long lines and to improve the script appearance.  Use
\&\fB\-nanl\fR or \fB\-noadd-newlines\fR to prevent any new line breaks.  
.Sp
This flag does not prevent perltidy from eliminating existing line
breaks; see \fB\-freeze-newlines\fR to completely prevent changes to line
break points.
.Sh "Other Controls"
.IX Subsection "Other Controls"
.Ip "Writing selected text to a file" 4
.IX Item "Writing selected text to a file"
When perltidy writes a formatted text file, it has the ability to also
send selected text to a file with a \fI.TEE\fR extension.  This text can
include comments and pod documentation.  The relevant commands are:
\&\fB\-tac\fR or \fB\*(--tee-all-comments\fR,  \fB\-tbc\fR or  \fB\*(--tee-block-comments\fR,
\&\fB\-tsc\fR or \fB\*(--tee-side-comments\fR, and \fB\-tp\fR or  \fB\*(--tee-pod\fR.  The
negatives of these commands also work, and are the defaults.
.Ip "Deleting selected text" 4
.IX Item "Deleting selected text"
Perltidy can selectively delete comments and pod documentation.
The commands to do this are:
.Sp
\&\fB\-dac\fR or  \fB\*(--delete-all-comments\fR,  \fB\-dbc\fR or  \fB\*(--delete-block-comments\fR, 
\&\fB\-dsc\fR or  \fB\*(--delete-side-comments\fR,
and \fB\-dp\fR or  \fB\*(--delete-pod\fR.  The negatives of these commands also
work, and are the defaults.
.Ip "Using a \fI.perltidyrc\fR command file" 4
.IX Item "Using a .perltidyrc command file"
Perltidy will first look in your current directory for a command file
named \fI.perltidyrc\fR, and if it does not find one, it will look in your
home directory.  This file is free format, and simply a list of
parameters, just as they would be entered on a command line.  Any number
of lines may be used, with any number of parameters per line, although
it may be easiest to read with one parameter per line.  Blank lines are
ignored, and text after a '#' is ignored to the end of a line.
.Sp
Here is an example of a \fI.perltidyrc\fR file:
.Sp
.Vb 6
\&  # This is a simple of a .perltidyrc configuration file
\&  # This implements a highly spaced style
\&  -bl    # braces on new lines
\&  -pt=0  # parens not tight at all
\&  -bt=0  # braces not tight
\&  -sbt=0 # square brackets not tight
.Ve
The parameters in the \fI.perltidyrc\fR file are installed first, so any
parameters given on the command line will have priority over them.  The
parameters in the \fI.perltidyrc\fR file can be completely ignored with
the \fB\-npro\fR option.
.Ip "Creating a new abbreviation" 4
.IX Item "Creating a new abbreviation"
A special notation is available for use in a \fI.perltidyrc\fR file
for creating an abbreviation for a group
of options.  This can be used to create a
shorthand for one or more styles which are frequently, but not always,
used.  The notation is to group the options within curly braces which
are preceded by the name of the alias (without leading dashes), like this:
.Sp
.Vb 4
\&        newword {
\&        -opt1
\&        -opt2
\&        }
.Ve
where \fBnewword\fR is the abbreviation, and \fBopt1\fR, etc, are existing parameters
\&\fIor other abbreviations\fR.  The main syntax requirement is that
the new abbreviation must begin on a new line.
Space before and after the curly braces is optional.
For a
specific example, the following line
.Sp
.Vb 1
\&        airy {-bl -pt=0 -bt=0 -sbt=0}
.Ve
could be placed in a \fI.perltidyrc\fR file, and then invoked at will with
.Sp
.Vb 1
\&        perltidy -airy somefile.pl
.Ve
(Either \f(CW\*(C`\-airy\*(C'\fR or \f(CW\*(C`\-\-airy\*(C'\fR may be used).
.Ip "\fB\-sil=n\fR \fB\*(--starting-indentation-level=n\fR" 4
.IX Item "-sil=n starting-indentation-level=n"
By default, perltidy examines the input file and tries to determine the
starting indentation level.  While it is often zero, it may not be
zero for a code snippet being sent from an editing session.  If the
default method does not work correctly, or you want to change the
starting level, use \fB\-sil=n\fR, to force the starting level to be n.
.Ip "Controlling list formatting and vertical alignment" 4
.IX Item "Controlling list formatting and vertical alignment"
Perltidy attempts to place comma-separated arrays of values 
in tables which can be vertically aligned.  The number of
fields is, by default, chosen to be the largest even number which
fits in the current page width (defined by \fB\-l=n\fR).  Usually this
works well.
.Sp
There are two ways to control this formatting.  The first is with the
use of comments or empty lines.  If there are any comments or blank
lines between the opening and closing structural brace, parenthesis, or
bracket containing the list, then the original line breaks will be used
for the entire list instead.
.Sp
The second is with the parameter \fB\*(--mft=n\fR or
\&\fB\*(--maximum-fields-per-table=n\fR.  The default value for \fBn\fR is a large
number, 40.  If the computed number of fields for any table exceeds
\&\fBn\fR, then it will be reduced to \fBn\fR.  While this value should probably
be left unchanged as a general rule, it might be used on a small section
of code to force a list to have a particular number of fields per line,
and then a single comment could be introduced somewhere to freeze the
formatting in future applications of perltidy.
.Sp
Vertical alignment refers to lining up similar tokens vertically, like
this:
.Sp
.Vb 3
\& my $lines     = 0;    # checksum: #lines
\& my $bytes     = 0;    # checksum: #bytes
\& my $sum       = 0;    # checksum: system V sum
.Ve
Once the perltidy vertical aligner \*(L"locks on\*(R" to a pattern, such as
defined by the \*(L"=\*(R" and \*(L"#\*(R" in the above example, it retains the pattern
for as long as possible.  However, a blank line or full-line comment
will cause it to forget the pattern and start looking for another.
Thus, a single blank line can be introduced to force the aligner to stop
aligning when it is undesirable.
.Ip "Making a file unreadable" 4
.IX Item "Making a file unreadable"
The goal of perltidy is to improve the readability of files, but there
are two commands which have the opposite effect, \fB\*(--mangle\fR and
\&\fB\*(--extrude\fR.  They are actually
merely aliases for combinations of other parameters.  Both of these
strip all possible whitespace, but leave comments and pod documents,
so that they are essentially reversible.  The
difference between these is that \fB\*(--mangle\fR puts the fewest possible
line breaks in a script while \fB\*(--extrude\fR puts the maximum possible.
Note that these options do not provided any meaningful obfuscation, because
perltidy can be used to reformat the files.  
A useful application of \fB\*(--mangle\fR is the following:
.Sp
.Vb 1
\&  perltidy -mangle myfile.pl -st | perltidy -o myfile.pl.new
.Ve
This is a simple way to clean up a badly formatted script.
.Ip "One-line blocks" 4
.IX Item "One-line blocks"
There are a few points to note regarding one-line blocks.  A one-line
block is something like this,
.Sp
.Vb 1
\&        if ($x > 0) { $y = 1 / $x }
.Ve
where the contents within the curly braces is short enough to fit
on a single line.
.Sp
With few exceptions, Perltidy retains existing one-line blocks, if it
is possible within the line-length constraint, but it does not attempt
to form new ones.  In other words, Perltidy will try to follow the
one-line block style of the input file.
.Sp
If an existing one-line block is longer than the maximum line length,
however, it will be broken into multiple lines.  When this happens, perltidy
checks for and adds any optional terminating semicolon (unless the \fB\-nasc\fR
option is used) if the block is a code block.  
.Sp
The main exception is that Perltidy will attempt to form new one-line
blocks following the keywords \f(CW\*(C`map\*(C'\fR, \f(CW\*(C`eval\*(C'\fR, and \f(CW\*(C`sort\*(C'\fR, because
these code blocks are often small and most clearly displayed in a single
line.
.Sp
Occasionally it is helpful to introduce line breaks in lists containing
a '=>' symbol, which is sometimes called a \*(L"comma-arrow\*(R".  To force
perltidy to introduce breaks in a one-line block containing comma
arrows, use the \fB\*(--break-after-comma-arrows\fR, or \fB\-baa\fR, flag.  For
example, given the following single line, Perltidy will not add any line
breaks:
.Sp
.Vb 1
\&    bless { B => $B, Root => $Root } => $package;   -nbaa (default)
.Ve
To introduce breaks to show the structure, use \fB\-baa\fR:
.Sp
.Vb 4
\&    bless {                                         -baa
\&        B    => $B,
\&        Root => $Root
\&    } => $package;
.Ve
One-line block rules can conflict with the cuddled-else option.  When
the cuddled-else option is used, perltidy retains existing one-line
blocks, even if they do not obey cuddled-else formatting.
.Ip "Writing an \s-1HTML\s0 file" 4
.IX Item "Writing an HTML file"
The flag \fB\-html\fR causes perltidy to write an html file with extension
\&\fI.html\fR.  
So, for example, the following command
.Sp
.Vb 1
\&        perltidy -html somefile.pl
.Ve
will produce a syntax-colored html file named \fIsomefile.pl.html\fR
which may be viewed with a browser.
.Sp
\&\fBPlease Note\fR: In this case, perltidy does not do any formatting to the input
file other than indenting it, and it does not write a a formatted file with
extension \fI.tdy\fR.  This means that, for now, two perltidy runs are required to
create a fully reformatted, html copy of a script.  (This behavior may change
in the future).  
.Sp
A default set of colors has been defined, but they may be changed by providing
values to any of the following parameters, where \fBn\fR is a 6 digit hex \s-1RGB\s0
color value:
.RS 4
.Sp
\&\fB\-html-color-xxxxxx=n\fR or \fB\-hcx=n\fR 
.Sp
where \fBxxxxxx\fR is one of the following words, and \fBx\fR is the
corresponding abbreviation:
.Sp
.Vb 16
\&      Token Type             xxxxxx           x 
\&      ----------             --------         --
\&      number                 numeric          n
\&      identifier             identifier       i
\&      bareword, function     bareword         w
\&      keyword                keyword          k
\&      quite, pattern         quote            q
\&      here doc text          here-doc-text    h
\&      here doc target        here-doc-target  H
\&      punctuation            punctuation      pu
\&      parentheses            paren            p
\&      structural braces      structural       s
\&      semicolon              semicolon        sc
\&      colon                  colon            co
\&      comma                  comma            cm
\&      label                  label            J
.Ve
To illustrate, the following command will produce an html 
file \fIsomefile.pl.html\fR with magenta keywords:
.Sp
.Vb 1
\&        perltidy -html -hck=ff00ff somefile.pl
.Ve
Two other character attributes may be set: bold, and italics.
To set a token type to use bold, use the flag
\&\fB\-html-bold-xxxxxx\fR or \fB\-hbx\fR, where \fBxxxxxx\fR or \fBx\fR are the long
or short names from the above table.  
.Sp
Likewise, to set a token type to use an italic font, use the flag
\&\fB\-html-italic-xxxxxx\fR or \fB\-hix\fR, where again \fBxxxxxx\fR or \fBx\fR are the
long or short names from the above table.  For example, to use bold
braces and green, bold, italics keywords the following command would be
used:
.Sp
.Vb 1
\&        perltidy -html -hbs -hck=00FF00 -hik -hbk somefile.pl
.Ve
The background color can be specified with \fB\-html-color-background=n\fR,
or \fB\-hcbg=n\fR for short, where n is a 6 character hex \s-1RGB\s0 value.  The
default color of text is the value given to \fBpunctuation\fR, which is
black as a default.
.RE
.RS 4
.SH "LIMITATIONS"
.IX Header "LIMITATIONS"
.RS 4
.RE
.Ip "Parsing Limitations" 4
.IX Item "Parsing Limitations"
Perltidy should work properly on most Perl scripts.  It does a lot of
self-checking, but still, it is possible that an error could be
introduced and go undetected.  Therefore, it is essential to make
careful backups and to test reformatted scripts.
.Sp
The main current limitation is that perltidy does not scan modules
included with 'use' statements.  This makes it necessary to guess the
context of any bare words introduced by such modules.  Perltidy has good
guessing algorithms, but they are not infallible.  When it must guess,
it leaves a message in the log file.
.Sp
If you encounter a bug, please report it.
.Ip "What perltidy does not format" 4
.IX Item "What perltidy does not format"
Perltidy indents but does not reformat comments and \f(CW\*(C`qw\*(C'\fR quotes.
Perltidy does not in any way modify the contents of here documents or
quoted text, even if they contain source code.  (You could, however,
reformat them separately).  And, of course, it does not modify pod
documents.
.RE
.RS 4
.SH "FILES"
.IX Header "FILES"
.RS 4
.RE
.Ip "Special files when standard input or standard output are used" 4
.IX Item "Special files when standard input or standard output are used"
When standard input is used, the log file, if saved, is \fIperltidy.LOG\fR, and
any error file is \fIperltidy.ERR\fR.  These are saved in the current working
directory.  If syntax checking is used, a temporary copy of the input file will
be created in the current working directory called \fIperltidy.TMPI\fR, but it
will be removed when perltidy finishes.
.Sp
When standard output and syntax checking are used, a temporary copy of the
output file will be created in the current working directory called
\&\fIperltidy.TMPO\fR.  It will be removed when perltidy finishes.
.Ip "Files overwritten" 4
.IX Item "Files overwritten"
The following file extensions are used by perltidy, and files with these
extensions may be overwritten or deleted: \fI.tdy\fR, \fI.ERR\fR, \fI.LOG\fR, \fI.TEE\fR,
\&\fI.TMPI\fR, \fI.TMPO\fR.
.Ip "Files extensions limitations" 4
.IX Item "Files extensions limitations"
Perltidy does not operate on files for which the run could produce a file with
a duplicated file extension.  These extensions are \fI.tdy\fR, \fI.LOG\fR, \fI.ERR\fR,
\&\fI.TEE\fR, \fI.TMPI\fR, \fI.TMPO\fR.  The purpose of this rule is to prevent generating
confusing filenames such as \fIsomefile.tdy.tdy.tdy\fR.
.RE
.RS 4
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIperlstyle\fR\|(1)
.SH "VERSION"
.IX Header "VERSION"
This man page documents perltidy version 20010303.
.SH "AUTHOR"
.IX Header "AUTHOR"
.Vb 3
\&  Steven L. Hancock
\&  email: perltidy at users.sourceforge.net
\&  http://perltidy.sourceforge.net
.Ve
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
Copyright (c) 2000, 2001 by Steven L. Hancock
.SH "LICENSE"
.IX Header "LICENSE"
This package is free software; you can redistribute it and/or modify it
under the terms of the \*(L"\s-1GNU\s0 General Public License\*(R".
.Sp
Please refer to the file \*(L"\s-1COPYING\s0\*(R" for details.
.SH "DISCLAIMER"
.IX Header "DISCLAIMER"
This package is distributed in the hope that it will be useful,
but \s-1WITHOUT\s0 \s-1ANY\s0 \s-1WARRANTY\s0; without even the implied warranty of
\&\s-1MERCHANTABILITY\s0 or \s-1FITNESS\s0 \s-1FOR\s0 A \s-1PARTICULAR\s0 \s-1PURPOSE\s0.
.Sp
See the \*(L"\s-1GNU\s0 General Public License\*(R" for more details.
