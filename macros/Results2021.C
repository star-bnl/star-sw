//  Compare fields for lasers 2021
#if !defined(__CINT__)
// code that should be seen ONLY by the compiler
#else
#if !defined(__CINT__) || defined(__MAKECINT__)
// code that should be seen by the compiler AND rootcint
#else
// code that should always be seen
#endif
#endif
//________________________________________________________________________________
#if !defined(__CINT__) || defined(__MAKECINT__)
#include "Riostream.h"
#include "TROOT.h"
#include "TSystem.h"
#include "TMath.h"
#include "TH1.h"
#include "TStyle.h"
#include "TGraph.h"
#include "TNtuple.h"
#include "TCanvas.h"
#include "TString.h"
#include "TLegend.h"
#include "TFile.h"
#include "THStack.h"
#endif
//#include "IOSectorPar.h"
struct data_t {
  Int_t sector;
  Double_t x, Dx, y, Dy, z, Dz, alpha, Dalpha, beta, Dbeta, gamma, Dgamma;
  const Char_t *Comment;
  void Print() {
    cout << Form("%2i %8.2f %5.2f %8.2f %5.2f %8.2f %5.2f",sector, x, Dx, y, Dy, z, Dz)
	 << Form(" %8.2f %5.2f %8.2f %5.2f %8.2f %5.2f %s", alpha, Dalpha, beta, Dbeta, gamma, Dgamma, Comment) << endl;
  }
};
struct SurveyPass_t {
  Int_t date, time;
  const Char_t *PassName;
  data_t Data[24];
#if 0
  SurveyPass_t &operator=(Int_t d, Int_t t, const Char_t *Pass, data_t data[24]) {
    date = d; time = t; PassName = Pass;
    for (Int_t i = 0; i < 24; i++) Data[i] = data[i];
    return *this;
  }
#endif
  void Print() {
    cout << Form("%8i %6i %s",date,time,PassName) << endl;
    for (Int_t i = 0; i < 24; i++) {
      Data[i].Print();
    }
  }
};
/*
drwxrwxrwx 1 jml   21743 11 Mar  3 08:07 /hlt/cephfs/daq/2021/062/22062014/ RF    22062002  22062009 22062014
drwxrwxrwx 1 jml   21743 11 Mar  3 08:52 /hlt/cephfs/daq/2021/062/22062015/ RHF .
drwxrwxrwx 1 jml   21743 21 Mar  3 09:58 /hlt/cephfs/daq/2021/062/22062016/ ZF  .
drwxrwxrwx 1 jml   21743 11 Mar  3 12:28 /hlt/cephfs/daq/2021/062/22062018/ FF    22062028
drwxrwxrwx 1 jml   21743 11 Mar  3 13:14 /hlt/cephfs/daq/2021/062/22062019/ FHF.
*/
const Int_t N = 24;
SurveyPass_t Passes[] = {
  {20210303,  101, "RF", // 
      {
	{ 1,-192.91, 0.94,  29.44, 3.24, 172.72, 0.71,  -0.03, 0.00,  -0.02, 0.00,  -0.37, 0.01,"Average "},
	{ 2, 159.18, 2.75, -73.65, 5.47,-110.37, 1.14,   0.08, 0.00,   0.07, 0.01,  -0.81, 0.02,"Average "},
	{ 3, 190.27, 5.06, -94.57, 7.65,  37.40, 1.85,   0.04, 0.01,   0.06, 0.01,  -0.20, 0.03,"Average "},
	{ 4, 212.34, 3.30, -88.41, 5.51,  64.11, 1.80,   0.03, 0.00,  -0.07, 0.00,  -0.63, 0.02,"Average "},
	{ 5, 380.92, 1.63,-184.86, 4.61, -51.52, 1.25,   0.12, 0.00,   0.01, 0.00,  -1.11, 0.02,"Average "},
	{ 6, 175.21, 1.32,-121.82, 3.25, -84.10, 0.71,   0.10, 0.00,  -0.00, 0.00,  -0.73, 0.01,"Average "},
	{ 7, 191.36, 2.44, -81.88, 3.44,-163.65, 0.70,   0.06, 0.00,   0.05, 0.00,  -0.56, 0.01,"Average "},
	{ 8,-155.87, 1.94, -91.18, 4.85,-101.69, 0.96,  -0.01, 0.00,   0.01, 0.00,  -0.56, 0.02,"Average "},
	{ 9, 209.48, 8.93, -60.14, 9.79, -99.15, 2.42,   0.19, 0.01,   0.15, 0.01,  -0.52, 0.04,"Average "},
	{10, 146.41, 3.36, -53.40, 6.36, -32.78, 1.72,   0.07, 0.01,   0.04, 0.01,  -0.20, 0.02,"Average "},
	{11, 165.81, 1.29,-117.51, 3.45,  40.97, 0.98,   0.07, 0.00,  -0.05, 0.00,  -1.04, 0.01,"Average "},
	{12, 180.51, 1.23,-121.22, 3.10,  13.85, 1.06,   0.08, 0.00,   0.00, 0.00,  -1.03, 0.01,"Average "},
	{13,-157.50, 1.59,-122.23, 3.87,-102.67, 0.81,   0.04, 0.00,  -0.02, 0.00,   0.81, 0.01,"Average "},
	{14,-217.69, 2.54,-111.44, 6.41,  84.95, 1.40,   0.03, 0.01,   0.04, 0.01,   0.09, 0.02,"Average "},
	{15,-166.67, 5.58,-137.93, 8.43,   5.18, 5.15,   0.07, 0.01,   0.05, 0.01,   0.40, 0.03,"Average "},
	{16,-106.10, 2.50,-126.86, 5.21,-813.82, 1.03,  -0.00, 0.00,  -0.04, 0.00,   0.86, 0.02,"Average "},
	{17,-173.28, 1.73,-111.43, 3.53,-151.33, 0.76,   0.04, 0.00,  -0.03, 0.00,   0.80, 0.01,"Average "},
	{18,-183.19, 1.72,-170.10, 3.43,-243.28, 0.76,   0.07, 0.00,   0.03, 0.00,   0.91, 0.01,"Average "},
	{19,-148.25, 1.19,-128.05, 3.73,  -7.54, 1.48,   0.06, 0.00,   0.03, 0.00,   1.02, 0.01,"Average "},
	{20,-197.96, 3.00,-178.89, 5.59, -88.65, 2.31,   0.12, 0.00,   0.06, 0.00,   0.38, 0.02,"Average "},
	{21,  67.94,22.47, -85.46,13.09,  37.86, 5.02,   0.10, 0.01,  -0.14, 0.02,   0.70, 0.06,"Average "},
	{22,-166.81, 2.82, -84.95, 5.41, -28.88, 1.28,   0.00, 0.00,   0.06, 0.01,   0.88, 0.02,"Average "},
	{23,-178.89, 1.02,-109.61, 3.25, -82.33, 0.70,   0.07, 0.00,  -0.03, 0.00,   1.10, 0.01,"Average "},
	{24,-216.22, 1.59,-132.34, 3.85,  37.27, 1.52,   0.07, 0.00,  -0.06, 0.00,   0.67, 0.01,"Average "},
    }
  },
  {20210303,  104, "FF", // 
      {
	{ 1, 248.08, 4.15, -68.16,12.78, 264.19, 2.23,   0.04, 0.01,  -0.07, 0.01,   0.91, 0.03,"Average "},
	{ 2,-203.94,20.45,-151.92,33.06,  24.52, 7.31,   0.10, 0.03,   0.09, 0.04,   0.99, 0.08,"Average "},
	{ 3,-143.75,30.23,-630.69,56.96, 299.09,70.15,   0.10, 0.04,   0.18, 0.05,   0.96, 0.16,"Average "},
	{ 4,-286.50,30.09,-156.49,41.36,  50.98,14.94,  -0.00, 0.03,  -0.18, 0.05,   2.41, 0.09,"Average "},
	{ 5,-371.29, 8.20,-330.39,26.14, 121.77, 7.58,   0.18, 0.02,   0.11, 0.03,   1.53, 0.06,"Average "},
	{ 6,-168.92, 4.37,-153.76,12.49, 117.48, 2.85,   0.11, 0.01,   0.00, 0.01,   1.61, 0.03,"Average "},
	{ 7,-261.99, 3.94,-185.76,13.18, -12.44, 3.38,   0.10, 0.01,   0.03, 0.01,   0.99, 0.04,"Average "},
	{ 8,-171.95,11.33,-125.98,24.46,  55.66, 6.61,  -0.12, 0.02,   0.06, 0.03,   1.42, 0.06,"Average "},
	{ 9,-154.05,46.24,-394.29,73.75,  -2.13,73.78,   0.20, 0.04,   0.33, 0.06,   0.95, 0.18,"Average "},
	{10, 604.67,69.32, -29.10,45.05, -34.26,13.38,   0.03, 0.03,   0.15, 0.05,   3.04, 0.10,"Average "},
	{11,-155.96, 5.20,-231.35,14.19, 210.89, 3.38,   0.13, 0.01,  -0.04, 0.01,   2.30, 0.04,"Average "},
	{12, -61.86, 5.81, -59.78,11.44, 109.30, 2.32,   0.03, 0.01,  -0.01, 0.01,   1.84, 0.03,"Average "},
	{13, 210.69,10.87,-397.92,19.43,-139.55, 6.16,   0.10, 0.02,   0.02, 0.02,  -1.92, 0.05,"Average "},
	{14,-162.22,31.10,-342.72,55.28, 196.31,14.29,  -0.05, 0.03,  -0.03, 0.06,  -1.51, 0.12,"Average "},
	{15, 275.24,49.54,-492.01,57.20, 190.96,32.89,   0.11, 0.04,  -0.02, 0.06,  -1.46, 0.16,"Average "},
	{16, 248.01,12.91,-170.74,26.79,-765.66, 5.04,  -0.01, 0.02,  -0.14, 0.03,  -1.40, 0.07,"Average "},
	{17, 268.04, 4.88,-201.76,14.13,-113.72, 3.76,   0.07, 0.01,  -0.06, 0.01,  -1.27, 0.04,"Average "},
	{18, 240.71, 5.98,-222.25,14.74,-248.00, 2.65,   0.03, 0.01,  -0.02, 0.02,  -2.52, 0.04,"Average "},
	{19, 238.71, 6.73,-163.28,17.19, 129.25, 3.97,   0.09, 0.01,   0.04, 0.02,  -1.58, 0.04,"Average "},
	{20, -56.99,23.31,-119.14,36.95, -99.39,28.20,   0.13, 0.03,   0.25, 0.05,  -2.05, 0.08,"Average "},
	{21,-1142.71,99.99,-288.44,92.80,  84.91,66.45,   0.01, 0.06,  -0.04, 0.08,  -1.05, 0.22,"Average "},
	{22, 224.58,24.51,-264.97,29.09,  72.40,11.24,   0.01, 0.02,   0.04, 0.04,  -1.04, 0.07,"Average "},
	{23, 296.09, 4.08,-221.99,11.82,  64.60, 4.12,   0.12, 0.01,  -0.02, 0.01,  -1.52, 0.04,"Average "},
	{24, 179.07,14.89,-250.39,18.46, -67.05, 6.98,   0.05, 0.02,  -0.14, 0.02,  -1.21, 0.05,"Average "},
    }
  },
  {20210303,  102, "RFnoSectorAlign", // 
      {
	{ 1,-188.66, 0.93,  46.86, 3.18, 174.43, 0.71,  -0.04, 0.00,  -0.02, 0.00,   0.12, 0.01,"Average "},
	{ 2, 136.58, 3.18, -52.64, 5.39,-108.08, 1.11,   0.06, 0.00,   0.07, 0.01,  -0.04, 0.02,"Average "},
	{ 3, 192.69, 5.62,-104.83, 7.42,  39.13, 1.77,   0.04, 0.01,   0.08, 0.01,   0.17, 0.03,"Average "},
	{ 4, 192.16, 4.57,-100.64, 5.48,  59.71, 1.48,   0.04, 0.00,  -0.08, 0.00,  -0.24, 0.02,"Average "},
	{ 5, 296.68, 1.67,-179.99, 4.53, -50.51, 1.19,   0.12, 0.00,   0.01, 0.00,  -0.65, 0.02,"Average "},
	{ 6, 106.55, 3.03,-113.06, 3.21, -86.18, 0.70,   0.10, 0.00,  -0.01, 0.00,  -0.32, 0.01,"Average "},
	{ 7,-168.67, 2.82, -79.07, 3.38,-166.84, 0.69,   0.06, 0.00,   0.05, 0.00,  -0.20, 0.01,"Average "},
	{ 8,-156.21, 1.71, -93.99, 4.78,-102.48, 0.97,   0.00, 0.00,   0.01, 0.00,  -0.24, 0.02,"Average "},
	{ 9, 259.16,11.65, -58.79, 9.65,-103.85, 2.89,   0.17, 0.01,   0.19, 0.01,   0.26, 0.04,"Average "},
	{10, 122.85, 2.57, -15.56, 6.28, -39.64, 2.06,   0.04, 0.01,   0.05, 0.01,   0.52, 0.02,"Average "},
	{11, 163.73, 1.34, -94.90, 3.40,  37.62, 0.86,   0.05, 0.00,  -0.04, 0.00,  -0.30, 0.01,"Average "},
	{12, 160.71, 1.24, -90.70, 3.07,  14.95, 0.92,   0.07, 0.00,  -0.00, 0.00,  -0.17, 0.01,"Average "},
	{13,-151.35, 1.83,-115.04, 3.81,-101.19, 0.80,   0.03, 0.00,  -0.02, 0.00,   0.34, 0.01,"Average "},
	{14,-215.44, 3.05,-111.49, 6.31,  87.41, 1.39,   0.04, 0.01,   0.04, 0.01,  -0.44, 0.02,"Average "},
	{15,-147.19, 5.70,-121.31, 8.35,   3.67, 4.32,   0.07, 0.01,   0.04, 0.01,  -0.14, 0.03,"Average "},
	{16, -15.67, 2.50,-108.48, 5.17,-813.40, 1.02,  -0.00, 0.00,  -0.04, 0.00,   0.30, 0.02,"Average "},
	{17,-188.05, 2.63, -95.92, 3.50,-150.57, 0.76,   0.04, 0.00,  -0.03, 0.00,   0.30, 0.01,"Average "},
	{18,-225.02, 3.29,-150.71, 3.40,-242.50, 0.75,   0.06, 0.00,   0.03, 0.00,   0.23, 0.01,"Average "},
	{19,-125.35, 1.26,-108.36, 3.68,   1.05, 1.31,   0.06, 0.00,   0.03, 0.00,   0.40, 0.01,"Average "},
	{20,-181.38, 2.93,-140.47, 5.49, -61.31, 2.23,   0.09, 0.00,   0.06, 0.00,  -0.31, 0.02,"Average "},
	{21,  46.88,29.24, -81.43,12.80,   6.81, 3.76,   0.09, 0.01,  -0.16, 0.02,   0.22, 0.06,"Average "},
	{22,-113.27, 2.96, -67.31, 5.32, -28.27, 1.57,  -0.00, 0.00,   0.06, 0.01,   0.22, 0.02,"Average "},
	{23,-149.11, 1.11, -97.19, 3.20, -80.21, 0.68,   0.07, 0.00,  -0.03, 0.00,   0.32, 0.01,"Average "},
	{24,-193.44, 1.61,-123.99, 3.81,  38.34, 1.53,   0.05, 0.00,  -0.07, 0.00,   0.04, 0.01,"Average "},
    }
  },
  {20210303,  105, "FFnoSectorAlign", // 
      {
	{ 1, 244.03, 4.27, -45.54,12.63, 265.67, 2.20,   0.02, 0.01,  -0.07, 0.01,   0.46, 0.03,"Average "},
	{ 2,-230.02,37.05,-139.46,33.45,  37.78,17.67,   0.09, 0.03,   0.07, 0.04,   0.49, 0.08,"Average "},
	{ 3,-181.08,33.24,-575.15,70.18, 189.21,47.70,   0.08, 0.04,   0.14, 0.06,   0.73, 0.16,"Average "},
	{ 4,-184.93,27.50,-126.59,41.23,  88.82,12.82,  -0.03, 0.03,  -0.29, 0.05,   1.85, 0.08,"Average "},
	{ 5,-294.39, 8.76,-335.79,25.63, 137.50, 7.33,   0.34, 0.02,   0.07, 0.03,   1.33, 0.06,"Average "},
	{ 6, -76.88,14.55,-154.18,12.42, 101.39, 2.44,   0.12, 0.01,   0.02, 0.01,   1.33, 0.03,"Average "},
	{ 7,-240.63, 5.65,-219.99,13.29,   1.77, 5.20,   0.13, 0.01,  -0.01, 0.01,   0.85, 0.04,"Average "},
	{ 8,-187.75,12.70,-161.96,24.65,  38.27, 8.62,   0.08, 0.02,   0.09, 0.03,   1.31, 0.06,"Average "},
	{ 9,-160.18,46.72,-315.31,74.01,  99.35,32.44,   0.22, 0.04,   0.32, 0.06,   0.33, 0.18,"Average "},
	{10, 204.01,48.27,  -5.34,45.21, -21.67,12.75,   0.02, 0.03,   0.13, 0.06,   2.16, 0.10,"Average "},
	{11,-144.16, 7.12,-224.22,14.21, 209.75, 2.47,   0.09, 0.01,  -0.04, 0.01,   1.61, 0.04,"Average "},
	{12,-103.00, 4.93, -31.04,11.34, 109.69, 2.35,   0.02, 0.01,  -0.02, 0.01,   1.01, 0.03,"Average "},
	{13, 218.93,11.84,-375.93,19.35,-133.36, 5.93,   0.12, 0.02,   0.03, 0.02,  -1.36, 0.05,"Average "},
	{14,-214.14,25.83,-312.31,54.60, 164.94,10.07,  -0.05, 0.03,   0.03, 0.06,  -0.92, 0.12,"Average "},
	{15,-1238.52,99.99,-458.97,56.74, 200.86,25.61,   0.10, 0.04,   0.04, 0.06,  -1.10, 0.16,"Average "},
	{16, 203.66,12.63,-137.10,26.67,-763.42, 5.30,   0.01, 0.02,  -0.14, 0.03,  -0.88, 0.07,"Average "},
	{17, 255.72, 5.61,-199.24,14.31,-115.43, 3.78,   0.07, 0.01,  -0.07, 0.01,  -0.86, 0.04,"Average "},
	{18, 204.89, 6.32,-190.99,14.77,-239.23, 2.98,  -0.00, 0.01,  -0.01, 0.02,  -1.77, 0.04,"Average "},
	{19, 202.32, 6.11,-174.68,17.34, 135.71, 4.24,   0.07, 0.01,   0.06, 0.02,  -1.03, 0.04,"Average "},
	{20, -89.00,19.69,-119.88,36.11, -45.44,10.59,   0.12, 0.03,   0.31, 0.05,  -1.24, 0.08,"Average "},
	{21,-811.40,99.99,-188.28,93.13,  96.05,48.56,   0.07, 0.06,  -0.02, 0.08,  -0.71, 0.22,"Average "},
	{22,  -2.73,19.85,-243.16,28.77,  50.54, 8.86,  -0.02, 0.02,   0.06, 0.04,  -0.54, 0.07,"Average "},
	{23, 286.46, 4.56,-221.24,12.02,  65.22, 5.06,   0.13, 0.01,  -0.02, 0.01,  -0.85, 0.04,"Average "},
	{24, 187.76,33.59,-253.41,18.65, -38.80, 4.83,   0.03, 0.02,  -0.11, 0.02,  -0.48, 0.05,"Average "},
    }
  }
};
const  Int_t NP = sizeof(Passes)/sizeof(SurveyPass_t);
TCanvas *c1 = 0;
THStack *hs[6];
TLegend *leg[6];
//________________________________________________________________________________
void Results2021(const Char_t *opt="") {
  gStyle->SetMarkerStyle(20);
  gStyle->SetOptStat(0);
  cout << "NP \t" << NP << endl;
  Int_t NH = NP;
  if (NH == 2) NH++; // make average if we have only FF + RF
  TH1D ***dath = new TH1D**[NH]; 
  for (Int_t p = 0; p < NH; p++) {dath[p] = new TH1D*[6]; memset(dath[p],0, 6*sizeof(TH1D*));}
  const Char_t *names[6] = {" #Deltax"," #Deltay"," #Deltaz"," #Delta #alpha"," #Delta #beta"," #Delta #gamma"};
  const Char_t *nameK[6] = {"Dx","Dy","Dz","Da",     "Db",    "Dg"};
  TString Opt(opt);
  for (Int_t i = 0; i < 6; i++) {
    hs[i] = new THStack(nameK[i],names[i]);
    Double_t ymin =  1e10;
    Double_t ymax = -1e10;
    TString Name;
    TString Title;
    if (! i)     leg[i] = new TLegend(0.10,0.65,0.30,0.90);
    else         leg[i] = 0;
    TString same("e");
    Int_t color = 1;
    TH1::SetDefaultSumw2(kTRUE);
    for (Int_t k = 0; k < NH; k++) {
      if (k < NP) {
	if (i == 0 && k < NP) Passes[k].Print();
	Name = Form("%s%s",Passes[k].PassName,nameK[i]);
	if (Opt != "" && ! Name.Contains(Opt,TString::kIgnoreCase)) continue;
	Title = Form("Alignment fit for  %s %s",names[i],Passes[k].PassName);
      } else { // Average
	Name = Form("%s%s%s",Passes[0].PassName,Passes[1].PassName,nameK[i]);
	if (Opt != "" && ! Name.Contains(Opt,TString::kIgnoreCase)) continue;
	Title = Form("Alignment fit for %s sum %s %s",names[i],Passes[0].PassName,Passes[1].PassName);
	
      }
      //      cout << Name.Data() << "\t" << Title.Data() << "\ti\t" << i << "\tk\t" << k << endl;
      dath[k][i] = (TH1D *) gDirectory->Get(Name);
      if (dath[k][i]) delete dath[k][i];
      
      dath[k][i] = new TH1D(Name,Title, 24, 0.5, 24.5);
      //      cout << "Create: " << dath[k][i]->GetName() << "\t" << dath[k][i]->GetTitle() << endl;
      dath[k][i]->SetMarkerColor(color);
      dath[k][i]->SetLineColor(color);
      color++;
      dath[k][i]->SetXTitle("sector");
      if (i < 3) dath[k][i]->SetYTitle(Form("%s (#mum)",names[i]));
      else       dath[k][i]->SetYTitle(Form("%s (mrad)",names[i]));
      for (Int_t l = 0; l < 24; l++) {
	Int_t secs;
	Double_t val, err;
	if (k < NP) {
	  Double_t *X = &Passes[k].Data[l].x;
	  secs = Passes[k].Data[l].sector;
	  if (X[2*i+1] >= 0 && X[2*i+1] < 99) {
	    val = X[2*i];
	    err = X[2*i+1];
	  } else {continue;}
	} else {
	  Double_t *X0 = &Passes[0].Data[l].x;
	  Double_t *X1 = &Passes[1].Data[l].x;
	  secs = Passes[0].Data[l].sector;
	  if (X0[2*i+1] >= 0 && X0[2*i+1] < 99 &&
	      X1[2*i+1] >= 0 && X1[2*i+1] < 99) {
	    val = 0.5*(X0[2*i] + X1[2*i]);
	    dath[k][i]->SetBinContent(secs,val);
	    err = TMath::Sqrt(X0[2*i+1]*X0[2*i+1]+X1[2*i+1]*X1[2*i+1])/2;
	  } else {continue;}
	} 
	if (err < 0.001) err = 0.001;
	dath[k][i]->SetBinContent(secs,val);
	dath[k][i]->SetBinError(secs,err);
	if (ymin > val - err) ymin = val - err;
	if (ymax < val + err) ymax = val + err;
      }
      hs[i]->Add(dath[k][i]);
      if (leg[i]) {
	if (k < NP) leg[i]->AddEntry(dath[k][i],Passes[k].PassName);
	else        leg[i]->AddEntry(dath[k][i],"sum");
      }
    }
  }
  c1 = new TCanvas("IO","Tpc Outer to Inner alignment parameters",1200,800);
  c1->Divide(3,2);
  for (Int_t i = 0; i < 6; i++) {
    c1->cd(i+1);
    if (! hs[i]) continue;
    TString same("e");
    Double_t ymax = hs[i]->GetMaximum("nostack");
    Double_t ymin = hs[i]->GetMinimum("nostack");
    TList *list = hs[i]->GetHists();
    TIter next(list);
    TH1 *h = 0;
    while ((h = (TH1*) next())) {
      h->GetYaxis()->SetTitleOffset(1.4);
      if (same == "e") {
	if (ymax > 0)     h->SetMaximum(1.1*ymax);
	else              h->SetMaximum(0.9*ymax);
	if (ymin < 0)     h->SetMinimum(1.1*ymin);
	else              h->SetMinimum(0.9*ymin);
      }
      TString hName(h->GetName());
      if (hName.BeginsWith("db",TString::kIgnoreCase)) h->Draw("same");
      else                                             h->Draw(same);
      same = "same";
    }
    if (leg[i]) leg[i]->Draw();
  }
  c1->Update();
}
